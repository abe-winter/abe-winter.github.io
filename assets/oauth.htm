<!DOCTYPE html>
<html >
  <head >
  </head>
  <body >
    <style>
.req {
	padding: 10px;
	margin-top: 10px;
	border-radius: 6px 6px 0 0;
	border: solid 1px black;
	border-bottom: dashed 1px grey;
}

.res {
	padding: 10px;
	margin-bottom: 10px;
	border-radius: 0 0 6px 6px;
	border: solid 1px black;
	border-top: dashed 1px grey;
}
.checks {
	padding: 10px;
	font-size: small;
}
span.flat-group {
	margin-left: 10px;
	background: #eff;
	padding: 4px;
	display: inline-block;
}
.docsec {
	display: none;
}
.docsec:target {
	display: inherit;
}
</style>

    <div >
      <h2 >
        oauth 2.0 authorization code grant
        <sup >
          <a href="#head">
            ?
          </a>
        </sup>
      </h2>
    </div>
    <div style="display: grid; grid-template-columns: repeat(3, minmax(0, 1fr))">
      <div style="grid-column: 1; text-align: center; font-size: large">
        <a href="#role-resource-owner">
          <span >
            👤
            browser
          </span>
        </a>
      </div>
      <div style="grid-column: 2; text-align: center; font-size: large">
        <a href="#role-client">
          <span >
            🕸️
            client
          </span>
        </a>
      </div>
      <div style="grid-column: 3; text-align: center; font-size: large">
        <a href="#role-authorization-server">
          <span >
            🆔
            authorization-server
          </span>
        </a>
      </div>
      <div style="grid-row: 4; grid-column: 1 / 3" class="req">
        ➡️
        /client-auth
      </div>
      <div style="grid-row: 5; grid-column: 1 / 3" class="res">
        <div style="float: right">
          ⬅️
        </div>
        /client-auth
        <span class="flat-group">
          <b >
            redirect
          </b>
          authorization
        </span>
        <span class="flat-group">
          <b >
            payload
          </b>
          <a href="#step-4-res-pay-client-identifier">
            📛 client-identifier
          </a>
          <a href="#step-4-res-pay-requested-scope">
            🔬 requested-scope
          </a>
          <a href="#step-4-res-pay-redirection-uri">
            🔄 redirection-uri
          </a>
          <a href="#step-4-res-pay-local-state">
            📎 local-state
          </a>
        </span>
      </div>
      <div style="grid-row: 6; grid-column: 1 / 4" class="req">
        ➡️
        /authorization
        <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.1">
          spec
        </a>
        <span class="flat-group">
          <b >
            payload
          </b>
          <a href="#step-5-req-pay-client-identifier">
            📛 client-identifier
          </a>
          <a href="#step-5-req-pay-requested-scope">
            🔬 requested-scope
          </a>
          <a href="#step-5-req-pay-redirection-uri">
            🔄 redirection-uri
          </a>
          <a href="#step-5-req-pay-local-state">
            📎 local-state
          </a>
        </span>
      </div>
      <div style="grid-row: 7; grid-column: 3 / 4" class="checks">
        <div >
          ✅
          user-agent is authenticated
        </div>
        <div >
          ✅
          resource-owner grants client's access request
        </div>
      </div>
      <div style="grid-row: 8; grid-column: 1 / 4" class="res">
        <div style="float: right">
          ⬅️
        </div>
        /authorization
        <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.2">
          spec
        </a>
        <span class="flat-group">
          <b >
            redirect
          </b>
          redirection-uri
        </span>
        <span class="flat-group">
          <b >
            payload
          </b>
          <a href="#step-7-res-pay-authorization-code">
            🔑 authorization-code
          </a>
          <a href="#step-7-res-pay-local-state">
            📎 local-state
          </a>
        </span>
      </div>
      <div style="grid-row: 9; grid-column: 1 / 3" class="req">
        ➡️
        /redirection
        <span class="flat-group">
          <b >
            payload
          </b>
          <a href="#step-8-req-pay-authorization-code">
            🔑 authorization-code
          </a>
          <a href="#step-8-req-pay-local-state">
            📎 local-state
          </a>
        </span>
      </div>
      <div style="grid-row: 10; grid-column: 2 / 4" class="req">
        ➡️
        /token
        <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.3">
          spec
        </a>
        🔒 client-creds
        <span class="flat-group">
          <b >
            payload
          </b>
          <a href="#step-9-req-pay-authorization-code">
            🔑 authorization-code
          </a>
          <a href="#step-9-req-pay-redirection-uri">
            🔄 redirection-uri
          </a>
        </span>
      </div>
      <div style="grid-row: 11; grid-column: 3 / 4" class="checks">
        <div >
          ✅
          client is authenticated
        </div>
        <div >
          ✅
          authorization-code is valid
        </div>
        <div >
          ✅
          redirection-uri matches
        </div>
      </div>
      <div style="grid-row: 12; grid-column: 2 / 4" class="res">
        <div style="float: right">
          ⬅️
        </div>
        /token
        <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.4">
          spec
        </a>
        <span class="flat-group">
          <b >
            redirect
          </b>
          todo
        </span>
      </div>
      <div style="grid-row: 13; grid-column: 1 / 3" class="res">
        <div style="float: right">
          ⬅️
        </div>
        /redirection
      </div>
    </div>
    <div >
      <h3 >
        Docs
      </h3>
      <div id="head" class="docsec">
        <h4 >
          oauth 2.0 authorization code grant
        </h4>
        <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-4.1">
          source
        </a>
        <span >
          Section
          4.1
        </span>
        <p >
          The authorization code grant type is used to obtain both access tokens and refresh tokens and is optimized for confidential clients. Since this is a redirection-based flow, the client must be capable of interacting with the resource owner's user-agent (typically a web browser) and capable of receiving incoming requests (via redirection) from the authorization server.
        </p>
      </div>
      <div id="role-resource-owner" class="docsec">
        <h4 >
          Role: resource-owner
        </h4>
        <p >
          Aliases:
          browser, user-agent, resource-owner
        </p>
        <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-1.1">
          source
        </a>
        <span >
          Section
          1.1
        </span>
        <p >
          An entity capable of granting access to a protected resource. When the resource owner is a person, it is referred to as an end-user.
        </p>
      </div>
      <div id="role-client" class="docsec">
        <h4 >
          Role: client
        </h4>
        <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-1.1">
          source
        </a>
        <p >
          An application making protected resource requests on behalf of the resource owner and with its authorization.  The term "client" does not imply any particular implementation characteristics (e.g., whether the application executes on a server, a desktop, or other devices).
        </p>
      </div>
      <div id="role-authorization-server" class="docsec">
        <h4 >
          Role: authorization-server
        </h4>
        <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-1.1">
          source
        </a>
        <p >
          The server issuing access tokens to the client after successfully authenticating the resource owner and obtaining authorization.
        </p>
      </div>
      <div id="step-4-res-pay-client-identifier" class="docsec">
        <h4 >
          Payload: client-identifier
        </h4>
        <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-2.2">
          source
        </a>
        <p >
          The authorization server issues the registered client a client identifier -- a unique string representing the registration information provided by the client.
        </p>
      </div>
      <div id="step-4-res-pay-requested-scope" class="docsec">
        <h4 >
          Payload: requested-scope
        </h4>
        <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-3.3">
          source
        </a>
        <p >
          The authorization and token endpoints allow the client to specify the scope of the access request using the "scope" request parameter. In turn, the authorization server uses the "scope" response parameter to inform the client of the scope of the access token issued. ... The authorization server MAY fully or partially ignore the scope requested by the client.
        </p>
      </div>
      <div id="step-4-res-pay-redirection-uri" class="docsec">
        <h4 >
          Payload: redirection-uri
        </h4>
        <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-3.1.2">
          source
        </a>
        <p >
          After completing its interaction with the resource owner, the authorization server directs the resource owner's user-agent back to the client.  The authorization server redirects the user-agent to the client's redirection endpoint previously established with the authorization server during the client registration process or when making the authorization request.
        </p>
      </div>
      <div id="step-4-res-pay-local-state" class="docsec">
        <h4 >
          Payload: local-state
        </h4>
        <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.1">
          source
        </a>
        <p >
          An opaque value used by the client to maintain state between the request and callback.  The authorization server includes this value when redirecting the user-agent back to the client.
        </p>
      </div>
      <div id="step-5-req-pay-client-identifier" class="docsec">
        <h4 >
          Payload: client-identifier
        </h4>
        <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-2.2">
          source
        </a>
        <p >
          The authorization server issues the registered client a client identifier -- a unique string representing the registration information provided by the client.
        </p>
      </div>
      <div id="step-5-req-pay-requested-scope" class="docsec">
        <h4 >
          Payload: requested-scope
        </h4>
        <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-3.3">
          source
        </a>
        <p >
          The authorization and token endpoints allow the client to specify the scope of the access request using the "scope" request parameter. In turn, the authorization server uses the "scope" response parameter to inform the client of the scope of the access token issued. ... The authorization server MAY fully or partially ignore the scope requested by the client.
        </p>
      </div>
      <div id="step-5-req-pay-redirection-uri" class="docsec">
        <h4 >
          Payload: redirection-uri
        </h4>
        <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-3.1.2">
          source
        </a>
        <p >
          After completing its interaction with the resource owner, the authorization server directs the resource owner's user-agent back to the client.  The authorization server redirects the user-agent to the client's redirection endpoint previously established with the authorization server during the client registration process or when making the authorization request.
        </p>
      </div>
      <div id="step-5-req-pay-local-state" class="docsec">
        <h4 >
          Payload: local-state
        </h4>
        <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.1">
          source
        </a>
        <p >
          An opaque value used by the client to maintain state between the request and callback.  The authorization server includes this value when redirecting the user-agent back to the client.
        </p>
      </div>
      <div id="step-7-res-pay-authorization-code" class="docsec">
        <h4 >
          Payload: authorization-code
        </h4>
        <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-1.3.1">
          source
        </a>
        <p >
          The authorization code is obtained by using an authorization server as an intermediary between the client and resource owner.  Instead of requesting authorization directly from the resource owner, the client directs the resource owner to an authorization server (via its user-agent as defined in [RFC2616]), which in turn directs the resource owner back to the client with the authorization code.
        </p>
      </div>
      <div id="step-7-res-pay-local-state" class="docsec">
        <h4 >
          Payload: local-state
        </h4>
        <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.1">
          source
        </a>
        <p >
          An opaque value used by the client to maintain state between the request and callback.  The authorization server includes this value when redirecting the user-agent back to the client.
        </p>
      </div>
      <div id="step-8-req-pay-authorization-code" class="docsec">
        <h4 >
          Payload: authorization-code
        </h4>
        <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-1.3.1">
          source
        </a>
        <p >
          The authorization code is obtained by using an authorization server as an intermediary between the client and resource owner.  Instead of requesting authorization directly from the resource owner, the client directs the resource owner to an authorization server (via its user-agent as defined in [RFC2616]), which in turn directs the resource owner back to the client with the authorization code.
        </p>
      </div>
      <div id="step-8-req-pay-local-state" class="docsec">
        <h4 >
          Payload: local-state
        </h4>
        <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.1">
          source
        </a>
        <p >
          An opaque value used by the client to maintain state between the request and callback.  The authorization server includes this value when redirecting the user-agent back to the client.
        </p>
      </div>
      <div id="step-9-req-pay-authorization-code" class="docsec">
        <h4 >
          Payload: authorization-code
        </h4>
        <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-1.3.1">
          source
        </a>
        <p >
          The authorization code is obtained by using an authorization server as an intermediary between the client and resource owner.  Instead of requesting authorization directly from the resource owner, the client directs the resource owner to an authorization server (via its user-agent as defined in [RFC2616]), which in turn directs the resource owner back to the client with the authorization code.
        </p>
      </div>
      <div id="step-9-req-pay-redirection-uri" class="docsec">
        <h4 >
          Payload: redirection-uri
        </h4>
        <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-3.1.2">
          source
        </a>
        <p >
          After completing its interaction with the resource owner, the authorization server directs the resource owner's user-agent back to the client.  The authorization server redirects the user-agent to the client's redirection endpoint previously established with the authorization server during the client registration process or when making the authorization request.
        </p>
      </div>
    </div>
    <div style="text-align: right">
      generated by
      <a href="https://github.com/abe-winter/rfckit">
        rfckit
      </a>
    </div>
  </body>
</html>
